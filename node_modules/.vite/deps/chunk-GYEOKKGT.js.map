{
  "version": 3,
  "sources": ["../../vuetify/src/components/VSnackbar/VSnackbar.tsx"],
  "sourcesContent": ["// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\nimport { makeVOverlayProps } from '@/components/VOverlay/VOverlay'\nimport { VProgressLinear } from '@/components/VProgressLinear'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { useScopeId } from '@/composables/scopeId'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\n\n// Utilities\nimport { mergeProps, nextTick, onMounted, onScopeDispose, ref, shallowRef, watch } from 'vue'\nimport { genericComponent, omit, propsFactory, refElement, useRender } from '@/util'\n\ntype VSnackbarSlots = {\n  activator: { isActive: boolean, props: Record<string, any> }\n  default: never\n  actions: never\n  text: never\n}\n\nfunction useCountdown (milliseconds: number) {\n  const time = shallowRef(milliseconds)\n  let timer = -1\n\n  function clear () {\n    clearInterval(timer)\n  }\n\n  function reset () {\n    clear()\n\n    nextTick(() => time.value = milliseconds)\n  }\n\n  function start (el?: HTMLElement) {\n    const style = el ? getComputedStyle(el) : { transitionDuration: 0.2 }\n    const interval = parseFloat(style.transitionDuration) * 1000 || 200\n\n    clear()\n\n    if (time.value <= 0) return\n\n    const startTime = performance.now()\n    timer = window.setInterval(() => {\n      const elapsed = performance.now() - startTime + interval\n      time.value = Math.max(milliseconds - elapsed, 0)\n\n      if (time.value <= 0) clear()\n    }, interval)\n  }\n\n  onScopeDispose(clear)\n\n  return { clear, time, start, reset }\n}\n\nexport const makeVSnackbarProps = propsFactory({\n  multiLine: Boolean,\n  text: String,\n  timer: [Boolean, String],\n  timeout: {\n    type: [Number, String],\n    default: 5000,\n  },\n  vertical: Boolean,\n\n  ...makeLocationProps({ location: 'bottom' } as const),\n  ...makePositionProps(),\n  ...makeRoundedProps(),\n  ...makeVariantProps(),\n  ...makeThemeProps(),\n  ...omit(makeVOverlayProps({\n    transition: 'v-snackbar-transition',\n  }), ['persistent', 'noClickAnimation', 'scrim', 'scrollStrategy']),\n}, 'VSnackbar')\n\nexport const VSnackbar = genericComponent<VSnackbarSlots>()({\n  name: 'VSnackbar',\n\n  props: makeVSnackbarProps(),\n\n  emits: {\n    'update:modelValue': (v: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { locationStyles } = useLocation(props)\n    const { positionClasses } = usePosition(props)\n    const { scopeId } = useScopeId()\n    const { themeClasses } = provideTheme(props)\n    const { colorClasses, colorStyles, variantClasses } = useVariant(props)\n    const { roundedClasses } = useRounded(props)\n    const countdown = useCountdown(Number(props.timeout))\n\n    const overlay = ref<VOverlay>()\n    const timerRef = ref<VProgressLinear>()\n    const isHovering = shallowRef(false)\n\n    watch(isActive, startTimeout)\n    watch(() => props.timeout, startTimeout)\n\n    onMounted(() => {\n      if (isActive.value) startTimeout()\n    })\n\n    let activeTimeout = -1\n    function startTimeout () {\n      countdown.reset()\n      window.clearTimeout(activeTimeout)\n      const timeout = Number(props.timeout)\n\n      if (!isActive.value || timeout === -1) return\n\n      const element = refElement(timerRef.value)\n\n      countdown.start(element)\n\n      activeTimeout = window.setTimeout(() => {\n        isActive.value = false\n      }, timeout)\n    }\n\n    function clearTimeout () {\n      countdown.reset()\n      window.clearTimeout(activeTimeout)\n    }\n\n    function onPointerenter () {\n      isHovering.value = true\n      clearTimeout()\n    }\n\n    function onPointerleave () {\n      isHovering.value = false\n      startTimeout()\n    }\n\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props)\n      const hasContent = !!(slots.default || slots.text || props.text)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          class={[\n            'v-snackbar',\n            {\n              'v-snackbar--active': isActive.value,\n              'v-snackbar--multi-line': props.multiLine && !props.vertical,\n              'v-snackbar--timer': !!props.timer,\n              'v-snackbar--vertical': props.vertical,\n            },\n            positionClasses.value,\n            props.class,\n          ]}\n          style={ props.style }\n          { ...overlayProps }\n          v-model={ isActive.value }\n          contentProps={ mergeProps({\n            class: [\n              'v-snackbar__wrapper',\n              themeClasses.value,\n              colorClasses.value,\n              roundedClasses.value,\n              variantClasses.value,\n            ],\n            style: [\n              locationStyles.value,\n              colorStyles.value,\n            ],\n            onPointerenter,\n            onPointerleave,\n          }, overlayProps.contentProps)}\n          persistent\n          noClickAnimation\n          scrim={ false }\n          scrollStrategy=\"none\"\n          _disableGlobalStack\n          { ...scopeId }\n          v-slots={{ activator: slots.activator }}\n        >\n          { genOverlays(false, 'v-snackbar') }\n\n          { props.timer && (\n            <div key=\"timer\" class=\"v-snackbar__timer\">\n              <VProgressLinear\n                ref={ timerRef }\n                active={ !isHovering.value }\n                color={ typeof props.timer === 'string' ? props.timer : 'info' }\n                max={ props.timeout }\n                model-value={ countdown.time.value }\n              />\n            </div>\n          )}\n\n          { hasContent && (\n            <div\n              key=\"content\"\n              class=\"v-snackbar__content\"\n              role=\"status\"\n              aria-live=\"polite\"\n            >\n              { slots.text?.() ?? props.text }\n\n              { slots.default?.() }\n            </div>\n          )}\n\n          { slots.actions && (\n            <VDefaultsProvider\n              defaults={{\n                VBtn: {\n                  variant: 'text',\n                  ripple: false,\n                  slim: true,\n                },\n              }}\n            >\n              <div class=\"v-snackbar__actions\">\n                { slots.actions() }\n              </div>\n            </VDefaultsProvider>\n          )}\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({}, overlay)\n  },\n})\n\nexport type VSnackbar = InstanceType<typeof VSnackbar>\n"],
  "mappings": "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",
  "names": ["useCountdown", "milliseconds", "time", "shallowRef", "timer", "clear", "clearInterval", "reset", "nextTick", "value", "start", "el", "style", "getComputedStyle", "transitionDuration", "interval", "parseFloat", "startTime", "performance", "now", "window", "setInterval", "elapsed", "Math", "max", "onScopeDispose", "makeVSnackbarProps", "propsFactory", "multiLine", "Boolean", "text", "String", "timeout", "type", "Number", "default", "vertical", "makeLocationProps", "location", "makePositionProps", "makeRoundedProps", "makeVariantProps", "makeThemeProps", "omit", "makeVOverlayProps", "transition", "VSnackbar", "genericComponent", "name", "props", "emits", "v", "setup", "_ref", "slots", "isActive", "useProxiedModel", "locationStyles", "useLocation", "positionClasses", "usePosition", "scopeId", "useScopeId", "themeClasses", "provideTheme", "colorClasses", "colorStyles", "variantClasses", "useVariant", "roundedClasses", "useRounded", "countdown", "overlay", "ref", "timerRef", "isHovering", "watch", "startTimeout", "onMounted", "activeTimeout", "clearTimeout", "element", "refElement", "setTimeout", "onPointerenter", "onPointerleave", "useRender", "overlayProps", "VOverlay", "filterProps", "hasContent", "_createVNode", "_mergeProps", "class", "$event", "mergeProps", "contentProps", "genOverlays", "VProgressLinear", "actions", "VDefaultsProvider", "VBtn", "variant", "ripple", "slim", "activator", "forwardRefs"]
}
